<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/docs/4.1/assets/img/favicons/favicon.ico">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <title>Logtracking3D</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!--    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"-->
    <!--            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"-->
    <!--            crossorigin="anonymous"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">


    <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css"
          type="text/css">
    <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>

    <style>
        body {
            margin: 0;
        }

        #forgeViewer {
            width: 100%;
            height: 500px;
            margin: 0;
            background-color: #F0F8FF;
        }
        td{
            color: #c8cbcf;
        }
    </style>
    <!-- this project files -->
    <link href="css/main.css" rel="stylesheet"/>
    <!--    <script src="js/ForgeTree.js"></script>-->
    <!--    <script src="js/ForgeViewer.js"></script>-->
</head>
<body class="__web-inspector-hide-shortcut__">
<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Logtracking3D</a>


    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
            <a class="nav-link" href="#">Sign out</a>
        </li>
    </ul>
</nav>

<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky" style="margin-top: 51px;">
                <div class=" ">
                    <div class="panel-heading ">
                        <label for="obras"><h5>Selecione uma Obra</h5></label>
                        <select class="form-control" id="obras">
                        </select>
                    </div>
                </div>
                <br>
                <div class="w3-bar-block">
                    <div class="w3-container">
                        <h5>Módulo de Cadastro</h5>
                    </div>
                    <div class="w3-bar-block">
                        <a href="#" class="w3-bar-item w3-button w3-padding">Cadastrar Obra</a>
                        <br>
                        <a href="#" class="w3-bar-item w3-button w3-padding">Cadastrar Peça</a>
                        <br>
                        <a href="#" class="w3-bar-item w3-button w3-padding">Cadastrar Veículo</a>
                    </div>


                    <br>
                    <h5>Relatórios</h5>
                    <br>

                    <div class="w3-bar-block">
                        <div class="w3-container">
                            <h6>Acompanhar Fabricação</h6>
                        </div>
                        <div class="w3-bar-block">
                            <a href="#" class="w3-bar-item w3-button w3-padding">Relatório de
                                Inspeção e Qualidade</a>
                            <br>
                            <a href="#" class="w3-bar-item w3-button w3-padding">Estoque de Peças
                                Liberadas</a>
                        </div>
                        <br>

                        <div class="w3-container">
                            <h6>Acompanhar Transporte</h6>
                        </div>
                        <div class="w3-bar-block">
                            <a href="#" class="w3-bar-item w3-button w3-padding">Relatório de
                                Entrega</a>
                        </div>
                        <br>

                        <div class="w3-container">
                            <h6>Acompanhar Montagem</h6>
                        </div>
                        <div class="w3-bar-block">
                            <a href="#" class="w3-bar-item w3-button w3-padding">
                                Relatório de Peças Montadas </a>
                            <br>
                            <a href="#" class="w3-bar-item w3-button w3-padding">Estoque de Peças
                                em Obra</a>
                        </div>

                    </div>


                </div>
            </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" style="margin-top: 31px;">
            <div class="chartjs-size-monitor"
                 style=" position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;">
                <div class="chartjs-size-monitor-expand"
                     style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                    <div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div>
                </div>
                <div class="chartjs-size-monitor-shrink"
                     style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;">
                    <div style="position:absolute;width:200%;height:200%;left:0; top:0"></div>
                </div>
            </div>
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Minha Obra</h1>
                <div class="btn-toolbar mb-2 mb-md-0">

                </div>
            </div>

            <div id="forgeViewer" class="col-xs-12 col-md-8"></div>

        </main>
    </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"-->
<!--        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"-->
<!--        crossorigin="anonymous"></script>-->


<!-- Icons -->
<script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
<script>
    feather.replace()
</script>
<!--Firebase-->
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-storage.js"></script>
<!--Firebase-->
<!--Extension-->
<script src="js/PanelInfoViewerExtension.js"></script>


<script>
    var viewer;
    var options = {
        env: 'AutodeskProduction',
        api: 'derivativeV2', // TODO: for models uploaded to EMEA change this option to 'derivativeV2_EU'
        getAccessToken: getForgeToken
    };
    // var options = {
    //     env: 'AutodeskProduction',
    //     getAccessToken: getForgeToken
    // };

    Autodesk.Viewing.Initializer(options, function () {
        viewer = new Autodesk.Viewing.GuiViewer3D(document.getElementById('forgeViewer'), {extensions: ['PanelInfoViewerExtension',]});
        viewer.start();

        var documentId = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dnZ4Z2NlYWM0emVhYjFvejY4b25wOGZhMXZqanlyanYtZGVmZXNhX21lc3RyYWRvX2ZpbmFsL0dhbHAlQzMlQTNvJTIwLSUyMFRlc3RlJTIwMDIucnZ0';

        // var documentId = 'urn:' + urn;
        Autodesk.Viewing.Document.load(documentId, onDocumentLoadSuccess, onDocumentLoadFailure);
    });


    function onDocumentLoadSuccess(doc) {
        var viewables = doc.getRoot().getDefaultGeometry();
        viewer.loadDocumentNode(doc, viewables).then(i => {
            // documented loaded, any action?
        });
    }

    function onDocumentLoadFailure(viewerErrorCode) {
        console.error('onDocumentLoadFailure() - errorCode:' + viewerErrorCode);
    }

    function getForgeToken(callback) {
        fetch('/api/forge/oauth/token').then(res => {
            res.json().then(data => {
                callback(data.access_token, data.expires_in);
            });
        });
    }



</script>
<script>
    $('#exampleModal').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget) // Button that triggered the modal
        var recipient = button.data('whatever') // Extract info from data-* attributes
        // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
        // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
        var modal = $(this)
        modal.find('.modal-title').text(recipient)
        // modal.find('.modal-body input').val(recipient)
        modal.find('.modal-body ').val(recipient)
    })
    $('#myTabs a').click(function (e) {
        e.preventDefault()
        $(this).tab('show')
    })

    $("#h-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#b-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#bw-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#comp-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#deformacao-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#icamento-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#volume-vifa").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    $("#peso-viga").blur(function () {
        this.value = parseFloat(this.value).toFixed(2);
    });
    // $('#myTabs a[href="#profile"]').tab('show') // Select tab by name
    // $('#myTabs a:first').tab('show') // Select first tab
    // $('#myTabs a:last').tab('show') // Select last tab
    // $('#myTabs li:eq(2) a').tab('show') // Select third tab (0-indexed)
    // $('#myModal').on('shown.bs.modal', function () {
    //     $('#myInput').focus()
    // })
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyADC3lm8Du9Vg0l-7CllsX8RcROu9Y0EhU",
        authDomain: "caio-bcff8.firebaseapp.com",
        databaseURL: "https://caio-bcff8.firebaseio.com",
        projectId: "caio-bcff8",
        storageBucket: "caio-bcff8.appspot.com",
        messagingSenderId: "586480812971",
        appId: "1:586480812971:web:f95ba106a810410c7548ee"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    // firebase.analytics();

    firebase.database().ref('obras/').once('value', function (snapshot) {
        var i = 0;
        snapshot.forEach(function (item) {
            var select = document.getElementById("obras");
            var options = document.createElement("option");
            opt_txt = document.createTextNode(item.key);
            options.appendChild(opt_txt);
            options.setAttribute("value", item.key);
            // options.setAttribute("text", opt_txt);
            select.appendChild(options);
            i++;
        });
        $("#obras").val($("#obras option:first").val());
    });
</script>
</body>
</html>